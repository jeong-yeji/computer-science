# 연속 메모리 할당

## 스와핑(swapping)

- 현재 사용되지 않는 프로세스들의 보조기억장치의 일부 영역(**스왑 영역; swap space**)으로 쫓아내고 생긴 빈 공간에 새 프로세스를 적재하는 방식
  
  - **스왑 인(swap-in)** : 메모리에 빈 공간이 생겼을 때 스왑 영역에 있던 프로세스를 다시 메모리로 적재하는 것
  
  - **스왑 아웃(swap-out)** : 현재 실행되지 않는 프로세스를 메모리에서 스왑 영역으로 옮겨지는 것

- **프로세스들이 요구하는 메모리 공간의 크기가 실제 메모리의 크기보다 커도 실행할 수 있음**

- swap-out된 프로세스가 다시 swap-in될 때는 이전 물리 주소와 다른 주소에 적재될 수 있음

- `free`, `top` : 스왑 영역의 크기를 확인하는 명령어

## 연속 메모리 할당

- 프로세스를 연속적인 메모리 공간에 할당하는 것

- 빈 공간이 여러 개 있다면
  
  - **최초 적합(first-fit)**
    
    - **최초로 발견**한 적재 가능한 빈 메모리 공간에 프로세스를 배치하는 방식
    
    - 빈 공간 검색 최소화
    
    - 빠른 할당
  
  - **최적 적합(best-fit)**
    
    - OS가 모든 빈 공간을 검색한 뒤, 적재 가능한 **가장 작은 공간**에 프로세스를 배치하는 방식
  
  - **최악 적합(worst-fit)**
    
    - OS가 모든 빈 공간을 검색한 뒤, 적재 가능한 **가장 큰 공간**에 프로세스를 배치하는 방식

- 프로세스를 연속적으로 메모리에 할당하는 방식은 효율적이지 못함 => **외부 단편화 (external fragmentation)** 발생 가능

## 외부 단편화 (external fragmentation)

- 프로세스가 실행되고 종료되며 메모리 사이에 빈 공간이 발생함

- 프로세스가 할당되기 어려울만큼 **작은 메모리 공간들로 인해 메모리가 낭비**되는 현상

- 해결 방법
  
  - **메모리 압축(compaction, 메모리 조각 모음)**
    
    - 프로세스를 **재배치**해 흩어진 빈 공간을 하나의 빈 공간으로 합치는 방법
    
    - 재비치 과정에서 많은 오버헤드 야기
  
  - [**가상 메모리 기법(페이징)**](./paging.md)


