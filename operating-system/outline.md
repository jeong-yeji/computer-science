# 운영체제의 큰 그림

## 운영체제란?

- 실행할 프로그램에 필요한 자원을 할당하고, 프로그램이 올바르게 실행되도록 돕는 프로그램

- 운영체제는 메모리 내 커널 영역에(kernel space), 응용 프로그램은 사용자 영역(user space)에 적재됨

- 운영체제가 하는 일
  
  - 메모리 관리
  
  - CPU 관리
  
  - I/O 장치 관리

## 커널(kernel)

- 운영체제의 핵심 서비스를 담당하는 부분
  
  - 운영체제의 핵심 서비스 : 자원 접근 및 조작, 프로그램 실행 및 관리
  
  - OS지만 커널에 속하지 않는 기능 : UI

## 이중 모드와 시스템 호출

- 사용자가 실행하는 프로그램은 자원에 직접 접근 불가 => OS를 통해 접근해서 자원 보호

- **이중 모드(dual mode)**
  
  - CPU가 명령어를 실행하는 모드를 **사용자 모드**와 **커널 모드**로 구분하는 방식
  
  - 플래그 레지스터의 슈퍼바이저 플래그에 표시함. (1-커널, 0-사용자)
  
  - **사용자 모드(user mode)**
    
    - OS 서비스 제공 X
    
    - 커널 영역 코드 실행 X
    
    - 자원 접근 불가
  
  - **커널 모드(kernel mode)**
    
    - OS 서비스 제공 O
    
    - 커널 영역 코드 실행 O
    
    - 자원 접근 가능

- **시스템 호출(system call)**
  
  - 커널 모드로 전환하기 위해 운영체제에 요청을 보내는 것
  
  - 일종의 소프트웨어 인터럽트
  
  - 시스템 호출 처리 과정
    
    1. 시스템 호출을 발생시켜 커널 모드로 전환
    
    2. 요청에 해당하는 OS 내의 코드 실행
    
    3. 사용자 모드 복귀

## 운영체제의 핵심 서비스

- **프로세스 관리**
  
  - 프로세스(process) : 실행 중인 프로그램
  
  - 동시에 생성/실행/삭제되는 프로세스 환경 관리
    
    - 프로세스와 스레드
    
    - 프로세스 동기화
    
    - 교착 상태 해결

- **자원 접근 및 할당**
  
  - CPU
    
    - CPU 스케줄링 : 어떤 프로세스부터 얼마나 오래 CPU을 이용할지 결정
  
  - 메모리
    
    - 페이징 : OS가 프로세스에게 메모리를 할당하는 방법
    
    - 스와핑 : 메모리가 부족한 경우 해결 방법
  
  - I/O 장치
    
    - 하드웨어 인터럽트처리를 위한 인터럽트 서비스 루틴 실행

- **파일 시스템 관리**
  
  - 파일과 디렉터리
